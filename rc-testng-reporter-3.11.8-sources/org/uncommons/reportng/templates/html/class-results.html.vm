## This macro formats the results (whether passed, skipped or failed) of the test
## methods in a single class for inclusion in the HTML report.  It assumes that the
## the results for the class are in a variable called $classResults.  $id is a page
## scope variable that is used to assign unique identifiers to divs.

#if ($groupByMethod)
    #set ($displayRow = "none")
#else
    #set ($displayRow = "table-row")
#end
#foreach ($testResult in $classResults.plainList)
    #set ($styleRowClass = "rowUngrouped")
    #parse("org/uncommons/reportng/templates/html/test-row.html.vm")
#end
#foreach ($testMethod in $classResults.grouped.values())
    #if ($groupByMethod)
        #set ($displayRow = "table-row")
    #else
        #set ($displayRow = "none")
    #end
    #if ($testMethod.totalCount == 1)
        #foreach ($testResult in $testMethod.results)
            #set ($styleRowClass = "rowGrouped")
            #parse("org/uncommons/reportng/templates/html/test-row.html.vm")
        #end
    #else
        <tr onMouseOver="color_change(this)" style="display:${displayRow};" onMouseOut="this.style.backgroundColor = ''" class="rowGrouped">
            <td class="method" colspan="2"><a id="group-$id" href="javascript:toggleElements('$testMethod.methodName', 'table-row', 'group-$id')" class="toggle">&#x25b6;</a> $testMethod.methodName</td>
            #if ($testStatusAll)
                <td class="header resultStatus ${testMethod.statusStyle}">$testMethod.status</td>
            #end
            <td class="result">$testMethod.description</td>
        </tr>
        #set ($displayRow = "none")
        #foreach ($testResult in $testMethod.results)
            #set ($styleRowClass = "rowGrouped sub $testMethod.methodName")
            #parse("org/uncommons/reportng/templates/html/test-row.html.vm")
        #end
    #end
#end
